{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./DogRunRegionList.css\";import Header from\"../Header\";import Footer from\"../Footer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DogrunRegionList=()=>{const navigate=useNavigate();const[prefectures,setPrefectures]=useState([]);useEffect(()=>{const fetchPrefectures=async()=>{try{const response=await fetch(\"http://localhost:5003/prefectures/\");if(!response.ok){throw new Error(\"Failed to fetch prefectures\");}const data=await response.json();setPrefectures(data);}catch(error){}};fetchPrefectures();},[]);const handleClick=id=>{navigate(`/dogrun/${id}`);};const regions=prefectures.reduce((acc,prefecture)=>{if(!acc[prefecture.region]){acc[prefecture.region]=[];}acc[prefecture.region].push(prefecture);return acc;},{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"region-list-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"region-search\",children:\"\\u5168\\u56FD\\u306E\\u30C9\\u30C3\\u30B0\\u30E9\\u30F3\\u3092\\u63A2\\u3059\"}),/*#__PURE__*/_jsx(\"div\",{className:\"region-list-content\",children:Object.keys(regions).map(region=>/*#__PURE__*/_jsxs(\"div\",{className:\"region-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"region-content\",children:region}),/*#__PURE__*/_jsx(\"div\",{className:\"dogrun-prefecture-list\",children:regions[region].map(pref=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick(pref.id),className:\"prefecture-button-list\",children:pref.name},pref.id))})]},region))})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default DogrunRegionList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DogrunRegionList","navigate","prefectures","setPrefectures","fetchPrefectures","response","fetch","ok","Error","data","json","error","handleClick","id","regions","reduce","acc","prefecture","region","push","children","className","Object","keys","map","pref","onClick","name"],"sources":["/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Dogrun/DogrunRegionList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./DogRunRegionList.css\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\n\ninterface Prefecture {\n  id: number;\n  name: string;\n  region: string;\n}\n\nconst DogrunRegionList: React.FC = () => {\n  const navigate = useNavigate();\n  const [prefectures, setPrefectures] = useState<Prefecture[]>([]);\n\n  useEffect(() => {\n    const fetchPrefectures = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5003/prefectures/\");\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch prefectures\");\n        }\n        const data: Prefecture[] = await response.json();\n        setPrefectures(data);\n      } catch (error) {\n      }\n    };\n\n    fetchPrefectures();\n  }, []);\n\n  const handleClick = (id: number) => {\n    navigate(`/dogrun/${id}`);\n  };\n\n  const regions = prefectures.reduce((acc: { [region: string]: Prefecture[] }, prefecture) => {\n    if (!acc[prefecture.region]) {\n      acc[prefecture.region] = [];\n    }\n    acc[prefecture.region].push(prefecture);\n    return acc;\n  }, {});\n\n  return (\n    <>\n    <Header/>\n    <div className=\"region-list-container\">\n      <h2 className=\"region-search\">全国のドッグランを探す</h2>\n      <div className=\"region-list-content\">\n        {Object.keys(regions).map((region) => (\n          <div key={region} className=\"region-section\">\n            <h3 className=\"region-content\">{region}</h3>\n            <div className=\"dogrun-prefecture-list\">\n              {regions[region].map((pref) => (\n                <button\n                  key={pref.id}\n                  onClick={() => handleClick(pref.id)}\n                  className= \"prefecture-button-list\"\n                >\n                  {pref.name}\n                </button>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n    <Footer />\n    </>\n  );\n};\n\nexport default DogrunRegionList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,wBAAwB,CAC/B,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,MAAM,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAQ/B,KAAM,CAAAC,gBAA0B,CAAGA,CAAA,GAAM,CACvC,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGb,QAAQ,CAAe,EAAE,CAAC,CAEhED,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CAClE,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CACA,KAAM,CAAAC,IAAkB,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAChDP,cAAc,CAACM,IAAI,CAAC,CACtB,CAAE,MAAOE,KAAK,CAAE,CAChB,CACF,CAAC,CAEDP,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,WAAW,CAAIC,EAAU,EAAK,CAClCZ,QAAQ,CAAC,WAAWY,EAAE,EAAE,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGZ,WAAW,CAACa,MAAM,CAAC,CAACC,GAAuC,CAAEC,UAAU,GAAK,CAC1F,GAAI,CAACD,GAAG,CAACC,UAAU,CAACC,MAAM,CAAC,CAAE,CAC3BF,GAAG,CAACC,UAAU,CAACC,MAAM,CAAC,CAAG,EAAE,CAC7B,CACAF,GAAG,CAACC,UAAU,CAACC,MAAM,CAAC,CAACC,IAAI,CAACF,UAAU,CAAC,CACvC,MAAO,CAAAD,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN,mBACEnB,KAAA,CAAAE,SAAA,EAAAqB,QAAA,eACAzB,IAAA,CAACH,MAAM,GAAC,CAAC,cACTK,KAAA,QAAKwB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eACpCzB,IAAA,OAAI0B,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,oEAAW,CAAI,CAAC,cAC9CzB,IAAA,QAAK0B,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CACjCE,MAAM,CAACC,IAAI,CAACT,OAAO,CAAC,CAACU,GAAG,CAAEN,MAAM,eAC/BrB,KAAA,QAAkBwB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC1CzB,IAAA,OAAI0B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAEF,MAAM,CAAK,CAAC,cAC5CvB,IAAA,QAAK0B,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CACpCN,OAAO,CAACI,MAAM,CAAC,CAACM,GAAG,CAAEC,IAAI,eACxB9B,IAAA,WAEE+B,OAAO,CAAEA,CAAA,GAAMd,WAAW,CAACa,IAAI,CAACZ,EAAE,CAAE,CACpCQ,SAAS,CAAE,wBAAwB,CAAAD,QAAA,CAElCK,IAAI,CAACE,IAAI,EAJLF,IAAI,CAACZ,EAKJ,CACT,CAAC,CACC,CAAC,GAZEK,MAaL,CACN,CAAC,CACC,CAAC,EACH,CAAC,cACNvB,IAAA,CAACF,MAAM,GAAE,CAAC,EACR,CAAC,CAEP,CAAC,CAED,cAAe,CAAAO,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}