{"ast":null,"code":"var _jsxFileName = \"/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Petshop/PetShopStoreList.tsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PetShopStoreList = () => {\n  _s();\n  const {\n    prefectureId\n  } = useParams();\n  const [stores, setStores] = useState([]);\n  const [selectedPrefecture, setSelectedPrefecture] = useState(\"ペットショップ情報がありません\");\n  const [selectedTagIds, setSelectedTagIds] = useState([]);\n  const [tags, setTags] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const response = await fetch(`http://localhost:5003/tags`);\n        const data = await response.json();\n        setTags(data.filter(tag => tag.tag_type === 4));\n      } catch {\n        setError(\"タグの取得に失敗しました。\");\n      }\n    };\n    fetchTags();\n  }, []);\n  useEffect(() => {\n    const fetchStores = async () => {\n      try {\n        const url = selectedTagIds.length === 0 ? `http://localhost:5003/stores/list/store-type/${prefectureId}/3` : `http://localhost:5003/stores/list/tag/${prefectureId}?tagIds=${selectedTagIds.join(\",\")}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        setStores(data);\n      } catch {\n        setError(\"店舗データの取得に失敗しました。\");\n      }\n    };\n    fetchStores();\n  }, [prefectureId, selectedTagIds]);\n  useEffect(() => {\n    const prefectureNames = {\n      \"1\": \"北海道\",\n      \"13\": \"東京\",\n      \"27\": \"大阪\"\n    };\n    setSelectedPrefecture(prefectureNames[prefectureId] || \"ペットショップ情報がありません\");\n  }, [prefectureId]);\n  const handleTagClick = tagId => {\n    setSelectedTagIds(prev => prev.includes(tagId) ? prev.filter(id => id !== tagId) : [...prev, tagId]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"20px\",\n      backgroundColor: \"#FAF3E0\"\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontWeight: \"bold\"\n      },\n      children: [selectedPrefecture, \"\\u306E\\u30DA\\u30C3\\u30C8\\u30B7\\u30E7\\u30C3\\u30D7\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"center\",\n        gap: \"10px\"\n      },\n      children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleTagClick(tag.id),\n        style: {\n          backgroundColor: selectedTagIds.includes(tag.id) ? \"grey\" : \"white\",\n          padding: \"10px 15px\",\n          border: \"1px solid #333\",\n          borderRadius: \"20px\",\n          cursor: \"pointer\"\n        },\n        children: tag.name\n      }, tag.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), stores.map(store => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"20px\",\n        padding: \"10px\",\n        border: \"1px solid #ccc\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: store.store_img,\n        alt: store.store_name,\n        style: {\n          width: \"100px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: store.store_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: store.store_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, store.store_id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(PetShopStoreList, \"QFSuJ4XOrkeuedIbNJJW5vqdlZA=\", true);\n_c = PetShopStoreList;\nvar _c;\n$RefreshReg$(_c, \"PetShopStoreList\");","map":{"version":3,"names":["PetShopStoreList","_s","prefectureId","useParams","stores","setStores","useState","selectedPrefecture","setSelectedPrefecture","selectedTagIds","setSelectedTagIds","tags","setTags","error","setError","useEffect","fetchTags","response","fetch","data","json","filter","tag","tag_type","fetchStores","url","length","join","prefectureNames","handleTagClick","tagId","prev","includes","id","_jsxDEV","style","textAlign","padding","backgroundColor","children","color","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","display","flexWrap","justifyContent","gap","map","onClick","border","borderRadius","cursor","name","store","margin","src","store_img","alt","store_name","width","store_description","store_id","_c","$RefreshReg$"],"sources":["/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Petshop/PetShopStoreList.tsx"],"sourcesContent":["const PetShopStoreList: React.FC = () => {\n  const { prefectureId } = useParams<{ prefectureId: string }>();\n  const [stores, setStores] = useState<Store[]>([]);\n  const [selectedPrefecture, setSelectedPrefecture] = useState<string>(\"ペットショップ情報がありません\");\n  const [selectedTagIds, setSelectedTagIds] = useState<number[]>([]);\n  const [tags, setTags] = useState<Tag[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const response = await fetch(`http://localhost:5003/tags`);\n        const data: Tag[] = await response.json();\n        setTags(data.filter((tag) => tag.tag_type === 4));\n      } catch {\n        setError(\"タグの取得に失敗しました。\");\n      }\n    };\n\n    fetchTags();\n  }, []);\n\n  useEffect(() => {\n    const fetchStores = async () => {\n      try {\n        const url =\n          selectedTagIds.length === 0\n            ? `http://localhost:5003/stores/list/store-type/${prefectureId}/3`\n            : `http://localhost:5003/stores/list/tag/${prefectureId}?tagIds=${selectedTagIds.join(\",\")}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        setStores(data);\n      } catch {\n        setError(\"店舗データの取得に失敗しました。\");\n      }\n    };\n\n    fetchStores();\n  }, [prefectureId, selectedTagIds]);\n\n  useEffect(() => {\n    const prefectureNames: { [key: string]: string } = {\n      \"1\": \"北海道\",\n      \"13\": \"東京\",\n      \"27\": \"大阪\",\n    };\n    setSelectedPrefecture(prefectureNames[prefectureId] || \"ペットショップ情報がありません\");\n  }, [prefectureId]);\n\n  const handleTagClick = (tagId: number) => {\n    setSelectedTagIds((prev) =>\n      prev.includes(tagId) ? prev.filter((id) => id !== tagId) : [...prev, tagId]\n    );\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"20px\", backgroundColor: \"#FAF3E0\" }}>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      <h2 style={{ fontWeight: \"bold\" }}>{selectedPrefecture}のペットショップ</h2>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\", gap: \"10px\" }}>\n        {tags.map((tag) => (\n          <button\n            key={tag.id}\n            onClick={() => handleTagClick(tag.id)}\n            style={{\n              backgroundColor: selectedTagIds.includes(tag.id) ? \"grey\" : \"white\",\n              padding: \"10px 15px\",\n              border: \"1px solid #333\",\n              borderRadius: \"20px\",\n              cursor: \"pointer\",\n            }}\n          >\n            {tag.name}\n          </button>\n        ))}\n      </div>\n      {stores.map((store) => (\n        <div key={store.store_id} style={{ margin: \"20px\", padding: \"10px\", border: \"1px solid #ccc\" }}>\n          <img src={store.store_img} alt={store.store_name} style={{ width: \"100px\" }} />\n          <h3>{store.store_name}</h3>\n          <p>{store.store_description}</p>\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}