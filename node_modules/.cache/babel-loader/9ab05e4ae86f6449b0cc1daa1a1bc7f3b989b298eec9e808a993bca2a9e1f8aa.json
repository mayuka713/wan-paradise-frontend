{"ast":null,"code":"var _jsxFileName = \"/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Dogrun/DogRunSearch.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DogRunSearch = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [storeId, setStoreId] = useState(null);\n  const [tagId, setTagId] = useState(null);\n  const [searchResults, setSearchResults] = useState([]); // 検索結果を保存するstate\n  const navigate = useNavigate();\n\n  // タグの選択変更\n  const handleTagChange = tagId => {\n    setSelectedTags(prev => prev.includes(tagId) ? prev.filter(id => id !== tagId) : [...prev, tagId]);\n  };\n\n  // store_id と tag_id の直接挿入の処理\n  const handleDirectInsert = () => {\n    if (storeId && tagId) {\n      fetch(`/api/stores-tags`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          store_id: storeId,\n          tag_id: tagId\n        })\n      }).then(response => response.json()).then(data => console.log(\"挿入結果:\", data)).catch(error => console.error(\"挿入エラー:\", error));\n    } else {\n      alert(\"store_idとtag_idを入力してください\");\n    }\n  };\n\n  // タグを使った店舗検索\n  const handleSearch = () => {\n    fetch(`/api/stores?tags=${selectedTags.join(\",\")}`).then(response => response.json()).then(data => setSearchResults(data)) // 検索結果を保存\n    .catch(error => console.error(\"検索エラー:\", error));\n  };\n\n  // 東京へのページ遷移\n  const handleTokyoClick = () => {\n    navigate(\"/dogrun/tokyo\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"DogRun\\u3092\\u63A2\\u3059\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: handleTokyoClick,\n        style: {\n          cursor: \"pointer\",\n          color: \"blue\"\n        },\n        children: \"\\u6771\\u4EAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: 5,\n        onChange: () => handleTagChange(5)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), \" \", \"\\u99D0\\u8ECA\\u5834\\u3042\\u308A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: 4,\n        onChange: () => handleTagChange(4)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), \" \", \"\\u5C0F\\u578B\\u72AC\\u30A8\\u30EA\\u30A2\\u6709\\u308A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"\\u691C\\u7D22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"store_id \\u3068 tag_id \\u306E\\u633F\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"store_id:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: storeId !== null && storeId !== void 0 ? storeId : \"\",\n          onChange: e => setStoreId(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"tag_id:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: tagId !== null && tagId !== void 0 ? tagId : \"\",\n          onChange: e => setTagId(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDirectInsert,\n        children: \"\\u633F\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u691C\\u7D22\\u7D50\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), searchResults.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: searchResults.map(store => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: store.name\n        }, store.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u8A72\\u5F53\\u3059\\u308B\\u5E97\\u8217\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(DogRunSearch, \"CzFxrLISTJCE837Zgml3EptjgYk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = DogRunSearch;\nexport default DogRunSearch;\nvar _c;\n$RefreshReg$(_c, \"DogRunSearch\");","map":{"version":3,"names":["React","useState","useNavigate","useParams","jsxDEV","_jsxDEV","DogRunSearch","_s","id","selectedTags","setSelectedTags","storeId","setStoreId","tagId","setTagId","searchResults","setSearchResults","navigate","handleTagChange","prev","includes","filter","handleDirectInsert","fetch","method","headers","body","JSON","stringify","store_id","tag_id","then","response","json","data","console","log","catch","error","alert","handleSearch","join","handleTokyoClick","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","cursor","color","type","value","onChange","e","Number","target","length","map","store","name","_c","$RefreshReg$"],"sources":["/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Dogrun/DogRunSearch.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\ninterface Store {\n  id: number;\n  name: string;\n}\n\nconst DogRunSearch = () => {\n  const {id} = useParams <{ id: string }>();\n  const [selectedTags, setSelectedTags] = useState<number[]>([]);\n  const [storeId, setStoreId] = useState<number | null>(null);\n  const [tagId, setTagId] = useState<number | null>(null);\n  const [searchResults, setSearchResults] = useState<Store[]>([]); // 検索結果を保存するstate\n  const navigate = useNavigate();\n\n  // タグの選択変更\n  const handleTagChange = (tagId: number) => {\n    setSelectedTags((prev) =>\n      prev.includes(tagId)\n        ? prev.filter((id) => id !== tagId)\n        : [...prev, tagId]\n    );\n  };\n\n  // store_id と tag_id の直接挿入の処理\n  const handleDirectInsert = () => {\n    if (storeId && tagId) {\n      fetch(`/api/stores-tags`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ store_id: storeId, tag_id: tagId }),\n      })\n        .then((response) => response.json())\n        .then((data) => console.log(\"挿入結果:\", data))\n        .catch((error) => console.error(\"挿入エラー:\", error));\n    } else {\n      alert(\"store_idとtag_idを入力してください\");\n    }\n  };\n\n  // タグを使った店舗検索\n  const handleSearch = () => {\n    fetch(`/api/stores?tags=${selectedTags.join(\",\")}`)\n      .then((response) => response.json())\n      .then((data) => setSearchResults(data)) // 検索結果を保存\n      .catch((error) => console.error(\"検索エラー:\", error));\n  };\n\n  // 東京へのページ遷移\n  const handleTokyoClick = () => {\n    navigate(\"/dogrun/tokyo\");\n  };\n\n  return (\n    <div>\n      {/* 都道府県のリンク */}\n      <h2>DogRunを探す</h2>\n      <div>\n        <p\n          onClick={handleTokyoClick}\n          style={{ cursor: \"pointer\", color: \"blue\" }}\n        >\n          東京\n        </p>\n      </div>\n      {/* タグ選択 */}\n      <label>\n        <input type=\"checkbox\" value={5} onChange={() => handleTagChange(5)} />{\" \"}\n        駐車場あり\n      </label>\n      <label>\n        <input type=\"checkbox\" value={4} onChange={() => handleTagChange(4)} />{\" \"}\n        小型犬エリア有り\n      </label>\n      {/* 他のタグも追加 */}\n      <button onClick={handleSearch}>検索</button>\n\n      {/* store_id と tag_id を直接指定して挿入 */}\n      <div>\n        <h3>store_id と tag_id の挿入</h3>\n        <label>\n          store_id:\n          <input\n            type=\"number\"\n            value={storeId ?? \"\"}\n            onChange={(e) => setStoreId(Number(e.target.value))}\n          />\n        </label>\n        <label>\n          tag_id:\n          <input\n            type=\"number\"\n            value={tagId ?? \"\"}\n            onChange={(e) => setTagId(Number(e.target.value))}\n          />\n        </label>\n        <button onClick={handleDirectInsert}>挿入</button>\n      </div>\n\n      {/* 検索結果の表示 */}\n      <div>\n        <h3>検索結果</h3>\n        {searchResults.length > 0 ? (\n          <ul>\n            {searchResults.map((store) => (\n              <li key={store.id}>{store.name}</li>\n            ))}\n          </ul>\n        ) : (\n          <p>該当する店舗がありません。</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DogRunSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}