{"ast":null,"code":"var _jsxFileName = \"/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Dogrun/DogRunSearch.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DogRunSearch = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [storeId, setStoreId] = useState(null);\n  const [tagId, setTagId] = useState(null);\n  const [searchResults, setSearchResults] = useState([]); // 検索結果を保存するstate\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (id) {\n      console.log(`現在のドッグランID: ${id}`);\n      // 必要に応じてidを使って初期データを取得\n    }\n  }, [id]);\n\n  // タグの選択変更\n  const handleTagChange = tagId => {\n    setSelectedTags(prev => prev.includes(tagId) ? prev.filter(id => id !== tagId) : [...prev, tagId]);\n  };\n\n  // store_id と tag_id の直接挿入の処理\n  const handleDirectInsert = () => {\n    if (storeId && tagId) {\n      fetch(`/api/stores-tags`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          store_id: storeId,\n          tag_id: tagId\n        })\n      }).then(response => response.json()).then(data => console.log(\"挿入結果:\", data)).catch(error => console.error(\"挿入エラー:\", error));\n    } else {\n      alert(\"store_idとtag_idを入力してください\");\n    }\n  };\n\n  // タグを使った店舗検索\n  const handleSearch = () => {\n    fetch(`/api/stores?tags=${selectedTags.join(\",\")}`).then(response => response.json()).then(data => setSearchResults(data)) // 検索結果を保存\n    .catch(error => console.error(\"検索エラー:\", error));\n  };\n\n  // 東京へのページ遷移\n  const handleTokyoClick = () => {\n    navigate(\"/dogrun/tokyo\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"DogRun\\u3092\\u63A2\\u3059\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: handleTokyoClick,\n        style: {\n          cursor: \"pointer\",\n          color: \"blue\"\n        },\n        children: \"\\u6771\\u4EAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: 5,\n        onChange: () => handleTagChange(5)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), \" \", \"\\u99D0\\u8ECA\\u5834\\u3042\\u308A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: 4,\n        onChange: () => handleTagChange(4)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), \" \", \"\\u5C0F\\u578B\\u72AC\\u30A8\\u30EA\\u30A2\\u6709\\u308A\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"\\u691C\\u7D22\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"store_id \\u3068 tag_id \\u306E\\u633F\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"store_id:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: storeId !== null && storeId !== void 0 ? storeId : \"\",\n          onChange: e => setStoreId(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"tag_id:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: tagId !== null && tagId !== void 0 ? tagId : \"\",\n          onChange: e => setTagId(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDirectInsert,\n        children: \"\\u633F\\u5165\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u691C\\u7D22\\u7D50\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), searchResults.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: searchResults.map(store => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: store.name\n        }, store.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u8A72\\u5F53\\u3059\\u308B\\u5E97\\u8217\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(DogRunSearch, \"Uu6z+4Ld6p1b0feAbwmao/R92us=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = DogRunSearch;\nexport default DogRunSearch;\nvar _c;\n$RefreshReg$(_c, \"DogRunSearch\");","map":{"version":3,"names":["React","useState","useNavigate","useParams","jsxDEV","_jsxDEV","DogRunSearch","_s","id","selectedTags","setSelectedTags","storeId","setStoreId","tagId","setTagId","searchResults","setSearchResults","navigate","useEffect","console","log","handleTagChange","prev","includes","filter","handleDirectInsert","fetch","method","headers","body","JSON","stringify","store_id","tag_id","then","response","json","data","catch","error","alert","handleSearch","join","handleTokyoClick","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","cursor","color","type","value","onChange","e","Number","target","length","map","store","name","_c","$RefreshReg$"],"sources":["/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Dogrun/DogRunSearch.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\ninterface Store {\n  id: number;\n  name: string;\n}\n\nconst DogRunSearch = () => {\n  const { id } = useParams <{ id: string }>();\n  const [selectedTags, setSelectedTags] = useState<number[]>([]);\n  const [storeId, setStoreId] = useState<number | null>(null);\n  const [tagId, setTagId] = useState<number | null>(null);\n  const [searchResults, setSearchResults] = useState<Store[]>([]); // 検索結果を保存するstate\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (id) {\n      console.log(`現在のドッグランID: ${id}`);\n      // 必要に応じてidを使って初期データを取得\n    }\n  }, [id]);\n  \n  // タグの選択変更\n  const handleTagChange = (tagId: number) => {\n    setSelectedTags((prev) =>\n      prev.includes(tagId)\n        ? prev.filter((id) => id !== tagId)\n        : [...prev, tagId]\n    );\n  };\n\n  // store_id と tag_id の直接挿入の処理\n  const handleDirectInsert = () => {\n    if (storeId && tagId) {\n      fetch(`/api/stores-tags`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ store_id: storeId, tag_id: tagId }),\n      })\n        .then((response) => response.json())\n        .then((data) => console.log(\"挿入結果:\", data))\n        .catch((error) => console.error(\"挿入エラー:\", error));\n    } else {\n      alert(\"store_idとtag_idを入力してください\");\n    }\n  };\n\n  // タグを使った店舗検索\n  const handleSearch = () => {\n    fetch(`/api/stores?tags=${selectedTags.join(\",\")}`)\n      .then((response) => response.json())\n      .then((data) => setSearchResults(data)) // 検索結果を保存\n      .catch((error) => console.error(\"検索エラー:\", error));\n  };\n\n  // 東京へのページ遷移\n  const handleTokyoClick = () => {\n    navigate(\"/dogrun/tokyo\");\n  };\n\n  return (\n    <div>\n      {/* 都道府県のリンク */}\n      <h2>DogRunを探す</h2>\n      <div>\n        <p\n          onClick={handleTokyoClick}\n          style={{ cursor: \"pointer\", color: \"blue\" }}\n        >\n          東京\n        </p>\n      </div>\n      {/* タグ選択 */}\n      <label>\n        <input type=\"checkbox\" value={5} onChange={() => handleTagChange(5)} />{\" \"}\n        駐車場あり\n      </label>\n      <label>\n        <input type=\"checkbox\" value={4} onChange={() => handleTagChange(4)} />{\" \"}\n        小型犬エリア有り\n      </label>\n      {/* 他のタグも追加 */}\n      <button onClick={handleSearch}>検索</button>\n\n      {/* store_id と tag_id を直接指定して挿入 */}\n      <div>\n        <h3>store_id と tag_id の挿入</h3>\n        <label>\n          store_id:\n          <input\n            type=\"number\"\n            value={storeId ?? \"\"}\n            onChange={(e) => setStoreId(Number(e.target.value))}\n          />\n        </label>\n        <label>\n          tag_id:\n          <input\n            type=\"number\"\n            value={tagId ?? \"\"}\n            onChange={(e) => setTagId(Number(e.target.value))}\n          />\n        </label>\n        <button onClick={handleDirectInsert}>挿入</button>\n      </div>\n\n      {/* 検索結果の表示 */}\n      <div>\n        <h3>検索結果</h3>\n        {searchResults.length > 0 ? (\n          <ul>\n            {searchResults.map((store) => (\n              <li key={store.id}>{store.name}</li>\n            ))}\n          </ul>\n        ) : (\n          <p>該当する店舗がありません。</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DogRunSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}