{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./HospitalRegionList.css\";import Header from\"../Header\";import Footer from\"../Footer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DogrunRegionList=()=>{const navigate=useNavigate();const[prefectures,setPrefectures]=useState([]);useEffect(()=>{const fetchPrefectures=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BASE_URL,\"/prefectures/\"));// エンドポイントを確認\nif(!response.ok){throw new Error(\"Failed to fetch prefectures\");}const data=await response.json();setPrefectures(data);}catch(error){console.error(\"データの取得に失敗しました:\",error);}};fetchPrefectures();// ページが開かれた時にリクエストを実行\n},[]);// 空の配列を依存配列として指定\nconst handleClick=id=>{navigate(\"/hospital/\".concat(id));};// 地方ごとに都道府県を分類\nconst regions=prefectures.reduce((acc,prefecture)=>{if(!acc[prefecture.region]){acc[prefecture.region]=[];}acc[prefecture.region].push(prefecture);return acc;},{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"region-list-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"region-list-title-hospital\",children:\"\\u5168\\u56FD\\u306E\\u52D5\\u7269\\u75C5\\u9662\\u3092\\u63A2\\u3059\"}),/*#__PURE__*/_jsx(\"div\",{className:\"region-list-content\",children:Object.keys(regions).map(region=>/*#__PURE__*/_jsxs(\"div\",{className:\"region-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"region-content\",children:region}),/*#__PURE__*/_jsx(\"div\",{className:\"dogrun-prefecture-list\",children:regions[region].map(pref=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick(pref.id),className:\"prefecture-button-list\",children:pref.name},pref.id))})]},region))})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default DogrunRegionList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DogrunRegionList","navigate","prefectures","setPrefectures","fetchPrefectures","response","fetch","concat","process","env","REACT_APP_BASE_URL","ok","Error","data","json","error","console","handleClick","id","regions","reduce","acc","prefecture","region","push","children","className","Object","keys","map","pref","onClick","name"],"sources":["/Users/hadamayuka/Desktop/wan_paradise/my-app/src/pages/Hospital/HospitalRegionList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./HospitalRegionList.css\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\n\n\ninterface Prefecture {\n  id: number;\n  name: string;\n  region: string; \n}\n\nconst DogrunRegionList: React.FC = () => {\n  const navigate = useNavigate();\n  const [prefectures, setPrefectures] = useState<Prefecture[]>([]);\n\n\n\n  useEffect(() => {\n    const fetchPrefectures = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_BASE_URL}/prefectures/`); // エンドポイントを確認\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch prefectures\");\n        }\n        const data: Prefecture[] = await response.json();\n        setPrefectures(data);\n      } catch (error) {\n        console.error(\"データの取得に失敗しました:\", error);\n      }\n    };\n\n    fetchPrefectures(); // ページが開かれた時にリクエストを実行\n  }, []); // 空の配列を依存配列として指定\n\n  const handleClick = (id: number) => {\n    navigate(`/hospital/${id}`);\n  };\n\n  // 地方ごとに都道府県を分類\n  const regions = prefectures.reduce((acc: { [region: string]: Prefecture[] }, prefecture) => {\n    if (!acc[prefecture.region]) {\n      acc[prefecture.region] = [];\n    }\n    acc[prefecture.region].push(prefecture);\n    return acc;\n  }, {});\n\n  return (\n    <>\n    <Header/>\n    <div className=\"region-list-container\">\n      <h2 className=\"region-list-title-hospital\">全国の動物病院を探す</h2>\n      <div className=\"region-list-content\">\n        {Object.keys(regions).map((region) => (\n          <div key={region} className=\"region-section\">\n            <h3 className=\"region-content\">{region}</h3>\n            <div className=\"dogrun-prefecture-list\">\n              {regions[region].map((pref) => (\n                <button\n                  key={pref.id}\n                  onClick={() => handleClick(pref.id)}\n                  className= \"prefecture-button-list\"\n                >\n                  {pref.name}\n                </button>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n    <Footer/>\n    </>\n  );\n};\n\nexport default DogrunRegionList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}